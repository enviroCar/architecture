filebeat:
  inputs:
    - type: docker
      paths:
      - '/var/lib/docker/containers/*/*.log'
      containers.ids: '*'

processors:
  - decode_json_fields:
      fields: ["message"]
      target: ""
      overwrite_keys: true
  - add_docker_metadata: ~

output:
  elasticsearch:
    hosts: ["elastic:9200"]

setup:
  ilm:
    enabled: true
    check_exists: true
    overwrite: true
    policy_file: "/usr/share/filebeat/ilm.json"

  kibana:
    host: kibana:5601
  dashboards:
    enabled: true

logging:
  level: info
  to_stderr: true
  to_files: false
  to_syslog: false
